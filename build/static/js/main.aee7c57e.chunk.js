(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{11:function(t,e,n){},15:function(t,e,n){t.exports={item:"ContactListItem_item__1i3SN",contact:"ContactListItem_contact__2ojFC",btn:"ContactListItem_btn__2LpNi"}},16:function(t,e,n){},22:function(t,e,n){t.exports={container:"Notification_container__uVBg0",text:"Notification_text__3EtrH",enter:"Notification_enter__2UR0P",enterActive:"Notification_enterActive__1cBDf",exit:"Notification_exit__2XUjA",exitActive:"Notification_exitActive__3izVt"}},27:function(t,e,n){t.exports={title:"Title_title__VttSL",appear:"Title_appear__1FKs8",appearActive:"Title_appearActive__x2DNw"}},28:function(t,e,n){},38:function(t,e,n){t.exports={loader:"Loader_loader__mWRRL"}},87:function(t,e,n){},89:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),r=n(10),i=n.n(r),o=n(18),u=n(19),s=n(21),l=n(20),b=n(8),j=n(90),f=n(27),O=n.n(f),d=n(1),m=function(t){var e=t.title;return Object(d.jsx)(j.a,{in:!0,appear:!0,timeout:500,classNames:O.a,children:Object(d.jsx)("h2",{className:O.a.title,children:e})})},h=(n(50),n(37)),p=n.n(h),C=n(38),x=n.n(C),_=function(){return Object(d.jsx)("div",{className:x.a.loader,children:Object(d.jsx)(p.a,{type:"ThreeDots",color:"#f1392d",height:50,width:50})})},N=n(4),v=n(11),E=n.n(v),T=n(22),g=n.n(T),S=function(t){var e=t.contactExists;return Object(d.jsx)(j.a,{in:e,appear:!0,timeout:250,classNames:g.a,unmountOnExit:!0,children:Object(d.jsx)("div",{className:g.a.container,children:Object(d.jsx)("p",{className:g.a.text,children:"Contact already exists!"})})})},A=n(14),y=n.n(A),L=n(3),R=Object(L.b)("ADD_CONTACT_REQUEST"),D=Object(L.b)("ADD_CONTACT_SUCCESS"),F=Object(L.b)("ADD_CONTACT_ERROR"),w=Object(L.b)("FETCH_CONTACTS_REQUEST"),k=Object(L.b)("FETCH_CONTACTS_SUCCESS"),U=Object(L.b)("FETCH_CONTACTS_ERROR"),I=Object(L.b)("DELETE_CONTACT_REQUEST"),B=Object(L.b)("DELETE_CONTACT_SUCCESS"),H=Object(L.b)("DELETE_CONTACT_ERROR");y.a.defaults.baseURL="http://localhost:2000";var Q,V,q={addContact:function(t){var e=t.name,n=t.number;return function(t){t(R()),y.a.post("/contacts",{name:e,number:n}).then((function(e){var n=e.data;return t(D(n))})).catch((function(e){return t(F(e))}))}},fetchContacts:function(){return function(t){t(w()),y.a.get("/contacts").then((function(e){var n=e.data;return t(k(n))})).catch((function(e){return t(U(e))}))}},deleteContact:function(t){return function(e){e(I()),y.a.delete("/contacts/".concat(t)).then((function(){return e(B(t))})).catch((function(t){return e(H(t))}))}}},J=n(17),M=function(t){return t.contacts},X=function(t){return t.filter},z={getLoading:function(t){return t.loading},getContacts:M,getFilter:X,getFilteredContacts:Object(J.a)([M,X],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e)}))})),getContactById:Object(J.a)([function(t,e){return e},M],(function(t,e){return e.find((function(e){return e.id===t}))}))},K=function(t){Object(s.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:""},t.handleChange=function(e){var n=e.target,c=n.name,a=n.value;t.setState(Object(N.a)({},c,a))},t.handleSubmit=function(e){e.preventDefault();var n={name:t.state.name,number:t.state.number};if(t.props.contacts.find((function(t){return t.name===n.name})))return t.setState({contactExists:!0}),void setTimeout((function(){return t.setState({contactExists:!1})}),1500);t.props.addContact(n),t.setState({name:"",number:""})},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,c=t.contactExists;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(S,{contactExists:c}),Object(d.jsxs)("form",{className:E.a.form,onSubmit:this.handleSubmit,children:[Object(d.jsxs)("label",{className:E.a.label,children:["Name",Object(d.jsx)("input",{type:"text",value:e,name:"name",onChange:this.handleChange,placeholder:"Enter your full name",className:E.a.input,required:!0})]}),Object(d.jsxs)("label",{className:E.a.label,children:["Number",Object(d.jsx)("input",{type:"text",value:n,name:"number",onChange:this.handleChange,placeholder:"xxx-xx-xx",className:E.a.input,required:!0})]}),Object(d.jsx)("input",{type:"submit",value:"Add contact",className:E.a.button})]})]})}}]),n}(c.Component),P={addContact:q.addContact},W=Object(b.b)((function(t){return{contacts:z.getContacts(t)}}),P)(K),G=n(91),Y=n(39),Z=n(15),$=n.n(Z),tt=Object(b.b)((function(t,e){var n=z.getContactById(t,e.id);return Object(Y.a)({},n)}),(function(t,e){return{deleteContact:function(){return t(q.deleteContact(e.id))}}}))((function(t){var e=t.name,n=t.number,c=t.deleteContact;return Object(d.jsxs)("li",{className:$.a.item,children:[Object(d.jsx)("p",{className:$.a.contact,children:e}),Object(d.jsx)("p",{className:$.a.contact,children:n}),Object(d.jsx)("button",{type:"button",className:$.a.btn,onClick:c,children:"X"})]})})),et=n(28),nt=n.n(et),ct=Object(b.b)((function(t){var e=t.contacts,n=t.filter;return{searchContact:e.filter((function(t){return t.name.toLowerCase().includes(n.toLowerCase())}))}}))((function(t){var e=t.searchContact;return Object(d.jsx)(G.a,{component:"ul",className:nt.a.list,children:e.map((function(t){var e=t.id;t.name,t.number;return Object(d.jsx)(j.a,{timeout:250,classNames:nt.a,children:Object(d.jsx)(tt,{id:e})},e)}))})})),at=n(16),rt=n.n(at),it=Object(L.b)("FILTER_CONTACTS"),ot={filterContact:it},ut=Object(b.b)((function(t){return{filter:t.filter,contacts:t.contacts}}),ot)((function(t){var e=t.filter,n=t.filterContact,c=t.contacts;return Object(d.jsx)(j.a,{in:c.length>1,appear:!0,timeout:250,unmountOnExit:!0,classNames:rt.a,children:Object(d.jsx)("div",{className:rt.a.container,children:Object(d.jsxs)("label",{className:rt.a.label,children:["Find contacts by name",Object(d.jsx)("input",{className:rt.a.input,onChange:function(t){return n(t.target.value)},value:e})]})})})})),st=(n(87),function(t){Object(s.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(m,{title:"phonebook"}),Object(d.jsx)(W,{}),this.props.isLoading&&Object(d.jsx)(_,{}),Object(d.jsx)(ut,{}),Object(d.jsx)(ct,{})]})}}]),n}(c.Component)),lt={fetchContacts:q.fetchContacts},bt=Object(b.b)((function(t){return{isLoading:z.getLoading(t)}}),lt)(st),jt=n(40),ft=Object(L.c)([],(Q={},Object(N.a)(Q,k,(function(t,e){return e.payload})),Object(N.a)(Q,D,(function(t,e){return[].concat(Object(jt.a)(t),[e.payload])})),Object(N.a)(Q,B,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),Q)),Ot=Object(L.c)(!1,(V={},Object(N.a)(V,R,(function(){return!0})),Object(N.a)(V,D,(function(){return!1})),Object(N.a)(V,F,(function(){return!1})),Object(N.a)(V,w,(function(){return!0})),Object(N.a)(V,k,(function(){return!1})),Object(N.a)(V,U,(function(){return!1})),Object(N.a)(V,I,(function(){return!0})),Object(N.a)(V,B,(function(){return!1})),Object(N.a)(V,H,(function(){return!1})),V)),dt=Object(L.c)("",Object(N.a)({},it,(function(t,e){return e.payload}))),mt=Object(L.a)({reducer:{contacts:ft,filter:dt,loading:Ot}});n(88);i.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(b.a,{store:mt,children:Object(d.jsx)(bt,{})})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.aee7c57e.chunk.js.map